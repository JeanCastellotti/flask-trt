{% extends "base.html" %}

{% block content %}
    <div x-data="modal">
        <div x-show="visible" class="bg-gray-800 bg-opacity-60 flex absolute inset-0" x-cloak>
            <div class="rounded bg-white p-6 m-auto max-w-screen-sm" @click.away="close">
                <p x-text="message"></p>
                <div class="border-t pt-6 mt-6 flex justify-end space-x-2">
                    <form method="POST" @submit.prevent="submit">
                        <button class="rounded px-3 py-2 text-white bg-blue-500">Confirmer</button>
                    </form>
                    <button class="rounded px-3 py-2 text-white bg-red-500" @click="close">Annuler</button>
                </div>
            </div>
        </div>
        <h1 class="text-xl text-gray-800 mb-5 flex justify-between items-center">
            <span>Gérer</span>
            <span class="text-sm text-gray-400">
                Connecté en tant que {{ current_user.email }} ({{ current_user.role|capitalize }})
            </span>
        </h1>
        <ul class="border-gray-300 border-b flex space-x-2 text-gray-600" x-data="tabs">
            <li class="p-2 px-4 bg-gray-200 rounded-t hover:bg-gray-300" :class="{'!bg-gray-300': activeTab === 'tab1'}">
                <a href="{{ url_for('admin.candidates') }}">Candidats</a>
            </li>
            <li class="p-2 px-4 bg-gray-200 rounded-t hover:bg-gray-300" :class="{'!bg-gray-300': activeTab === 'tab2'}">
                <a href="{{ url_for('admin.recruiters') }}">Recruteurs</a>
            </li>
            {% if current_user.role == "administrator" %}
                <li class="p-2 px-4 bg-gray-200 rounded-t hover:bg-gray-300" :class="{'!bg-gray-300': activeTab === 'tab3'}">
                    <a href="{{ url_for('admin.consultants') }}">Consultants</a>
                </li>
            {% endif %}
            <li class="p-2 px-4 bg-gray-200 rounded-t hover:bg-gray-300">
                <a href="#">Annonces</a>
            </li>
            <li class="p-2 px-4 bg-gray-200 rounded-t hover:bg-gray-300">
                <a href="#">Candidatures</a>
            </li>
        </ul>
        {% block table %}{% endblock %}
    </div>
{% endblock %}

{% block javascript %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/modal.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tabs.js') }}"></script>
{% endblock %}